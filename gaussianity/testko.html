<!doctype html>
<html>
  <head>
      <script src="jquery.min.js"></script>
      <!--script src="webcomponentsjs-0.7.20/webcomponents.min.js"></script-->
      <script src="knockout-3.4.0.js"></script>

  <style>
  </style>

  </head>
  <body>
      <div id="d1" style="border: 1px solid black;" data-bind='attr: {a:v(), b:v()}'></div>
      <br/> <input data-bind='value: v()'>
      <br/> <span data-bind='text: v()'></span>
      <br/> <span data-bind='style: {opacity: 0.001*v()}'>OPACITY</span>
      <br/> <button onclick='
/*document.getElementById("d1").setAttribute("a", 42); FAIL */
bi.v(42); 
'>OG</button>
      <x-gauss id="ggg1" tutu="20" sx="50" sy="100">will change</x-gauss>
      <br/>
      <svg width="400px" height="300px" viewbox="-300 -200 600 400" opacity="0.5">
          <g id="els" data-bind="attr: {transform:'rotate('+v()+')'}">
              <ellipse cx="0" cy="0" data-bind='attr:{rx:0.1*v(), ry:0.2*v()}' fill="none" stroke="blue" stroke-width="5"></ellipse>
              <ellipse cx="0" cy="0" rx="50" ry="25" fill="none" stroke="blue" stroke-width="4" ></ellipse>
          </g>
      </svg>

<script>
var bi = {
   v: ko.observable(12)
};

ko.applyBindings(bi);


var h = document.getElementById("d1");
$({foo:0}).animate({foo:1000}, {
    duration: 1000,
    step: function(val) {
        bi.v(val);
/*
        $(h).attr('tutu', parseInt(val));
        $('x-gauss').attr('tutu', parseInt(val));
*/
    }
})
  </script>



  </body>
</html>
